一直不太习惯古文和注释、译文分开的排版，及按此排版的阅读方式，个人而言不适有以下几点：

* 破坏阅读的流畅感。一会看注释标号，一会去后边按着标号查很麻烦。
* 破坏古诗文的结构美。一些整齐的对仗句结构被注释标号破坏，失去了原有的结构美。

1 月 7 日，正值 21 岁生日，在前往贵州找女友的高铁上阅读《东坡词傅幹注校证》一书时，突生想法，想自己搞个古文排版，特点如下

* 左边原文右边译文
* 译文随着原文滚动
* 有注释的以下划线标注，鼠标移过去显示注释
* 鼠标停留在句子上时高亮右边对应的译文

过往早有此想法，但未付诸行动，近日于女友家有些许闲暇，实现之。但因自己并不会前端，以故代码还很稚嫩，但已大致实现理想功能。

效果图如下：

![](Pic/1_017.png)

ToDo：

- []  完善生成代码
- [] 诗文排版分类

效果预览：  [http://cmhblog.cfzhao.com/test_1.html](http://cmhblog.cfzhao.com/test_1.html)

网页由 gen.cpp 生成，该程序读入文件格式：

1. 第一二行分别为标题、作者
2. 段与段之间以空行分隔，文章以 end 结束。

2. 每一段中每一句话一行，其后[]为该句注释部分（注释可无）。注释后为该句翻译。同一段中句与句间无空行。

示例

```
赤壁赋
苏轼
壬戌之秋，七月既望，苏子与客泛舟游于赤壁之下。
[
壬戌:元丰五年，岁次壬戌。古代以干支纪年，该年为壬戌年。
既望:农历毎月十六。农历毎月十五日为望日，十六日为既望。
]
壬戌年秋天，七月十六日，我与友人在赤壁下泛舟遊玩。
清风徐来，水波不兴。
[
徐:缓缓地。
兴:起。
]
清风阵阵拂来，水面波澜不起。
举酒属客，诵明月之诗，歌窈窕之章。
[
属:倾注，引申为劝酒。
明月之诗:指《诗经・陈风・月出》。
窈窕之章:《陈风・月出》诗首章为:“月出皎兮，佼人僚兮，舒窈纠兮，劳心悄兮。”“窈纠” 同 “窈窕”。
]
举起酒杯向同伴劝酒，吟诵《明月》中 “窈窕” 这一章。
少焉，月出于东山之上，裴回于斗牛之间。
[
少焉:一会儿。
斗牛:星座名，即斗宿、牛宿。
]
不一会儿，明月从东山後昇起，在斗宿与牛宿之间来回移动。
白露横江，水光接天。纵一苇之所如，凌万顷之茫然。
[
白露:白茫茫的水气。
横江:横贯江面。
纵:任凭。
一苇:喻极小的船。《诗经・卫风・河广》:“谁谓河广，一苇杭（航）之。” 
如:往。
陵:同凌，越过。
万顷:极为宽阔的江面。
茫然:旷远的样子。
]
白茫茫的雾气横贯江面，水光连着天际。放纵一片苇叶似的小船随意漂浮，越过茫茫的江面。
浩浩乎如凭虚御风，而不知其所止；
[
凭虚御风:乘风腾空而遨遊。凭虚，凌空。虚，太空；御，驾御。
]
浩浩淼淼好像乘风凌空而行，并不知道到哪里才会停栖，
飘飘乎如遗世独立，羽化而登仙。
[
遗世:离开尘世。
羽化:传说成仙的人能像长了翅膀一样飞昇。
登仙:登上仙境。
]
飘飘摇摇好像要离开尘世飘飞而起，羽化成仙进入仙境。

于是饮酒乐甚，扣舷而歌之。
[
扣舷:敲打着船边，指打节拍。
]
在这时喝酒喝得非常高兴，敲着船边唱起歌来。
歌曰:“桂棹兮兰桨，击空明兮溯流光。
[
空明:月亮倒映水中的澄明之色。
溯:逆流而上。
流光:在水波上闪动的月光。
]
歌中唱到:“桂木船棹啊香兰船桨，击打着月光下的清波，在泛着月光的水面逆流而上。
渺渺兮余怀，望美人兮天一方。” 
[
渺渺:悠远的样子。
美人:喻心中美好的理想或好的君王。
]
我的情思啊悠远茫茫，眺望美人啊，却在天的另一方。” 
客有吹洞箫者，倚歌而和之。
[
倚歌:按照歌曲的声调节拍。
和:同声相应，唱和。
]
有会吹洞箫的客人，配着节奏为歌声伴和，
其声呜呜然，如怨如慕，如泣如诉；余音袅袅，不绝如缕。
[
怨:哀怨。
慕:眷恋。
余音:尾声。
袅袅:形容声音婉转悠长。
缕:细丝。
]
洞箫的声音呜呜咽咽:有如哀怨有如思慕，既像啜泣也像倾诉，余音在江上回荡，像细丝一样连续不断。
舞幽壑之潜蛟，泣孤舟之嫠妇。
[
幽壑:深谷，这里指深渊。此句意谓:潜藏在深渊里的蛟龙为之起舞。
嫠妇:寡妇。唐・白乐天《琵琶行》写孤居商人妻云:“去来江口守空船，绕舱明月江水寒。夜深忽梦少年事，梦啼妆泪红阑干。” 这里化用其事。
]
能使深谷中的蛟龙为之起舞，能使孤舟上的寡妇为之饮泣。

苏子愀然，正襟危坐，而问客曰:“何为其然也？” 
[
愀然:容色改变的样子。
正襟危坐:整理衣襟，端坐着。
何为其然也:箫声为什么会这么悲凉呢？
]
我的神色也愁惨起来，整好衣襟坐端正，向客人问道:“箫声为什么这样哀怨呢？” 
客曰:“‘月明星稀，乌鹊南飞。’此非曹孟德之诗乎？
客人回答:“‘月明星稀，乌鹊南飞’，这不是曹公孟德的诗么？
西望夏口，东望武昌，山川相缪，郁乎苍苍，此非孟德之困于周郎者乎？
[
夏口:故城在今湖北武昌。
武昌:今湖北鄂城县。
缪:通 “缭”，盘绕。
郁:茂盛的样子。
孟德之困于周郎:指汉献帝建安十三年，吴将周公瑾败曹孟德八十万大军于赤壁。周郎，公瑾二十四岁拜中郎将，吴中皆呼为 “周郎”。
]
这里向西可以望到夏口，向东可以望到武昌，山河接壤连绵不绝，目力所及，一片郁郁苍苍。这不正是曹孟德被周瑜所围困的地方么？
方其破荆州，下江陵，顺流而东也，舳舻千里，旌旗蔽空，酾酒临江，横槊赋诗，固一世之雄也，而今安在哉？
[
荆州:辖南阳、江夏、长沙等八郡，今湖南、湖北一带。
江陵:当时的荆州首府，今湖北县名。
舳舻:战船前後相接，这里指战船。
酾酒:滤酒，这里指斟酒。
横槊:横执长矛。槊，长矛。
]
当初他攻陷荆州，夺得江陵，沿长江顺流东下，麾下的战船首尾相连延绵千里，旗子将天空全都蔽住，面对大江斟酒，横执长矛吟诗，本来是当世的一位英雄人物，然而现在又在哪里呢？
况吾与子渔樵于江渚之上，侣鱼虾而友麋鹿，驾一叶之扁舟，举匏罇以相属。
[
侣:以…… 为伴侣，这里为意动用法。
麋:鹿的一种。
扁舟:小舟。
匏樽:用葫芦做成的酒器。匏，葫芦。
]
何况我与你在江中的小洲打渔砍柴，以鱼虾为侣，以麋鹿为友，在江上驾着这一叶小舟，举起杯盏相互敬酒，
寄蜉蝣于天地，渺沧海之一粟。
[
寄:寓托。
蜉蝣:一种朝生暮死的昆虫。此句喻人生之短暂。
渺:小。
沧海:大海。此句喩人类在天地之间极为渺小。
]
如同蜉蝣置身于广阔的天地中，像沧海中的一粒粟米那样渺小。
哀吾生之须臾，羡长江之无穷。
[
须臾:片刻，形容生命之短。
]
唉，哀叹我们的一生衹是短暂的片刻，不由羡慕长江的没有穷尽。
挟飞仙以遨游，抱明月而长终。
[
长终:至于永远。
]
想要携同仙人携手遨遊各地，与明月相拥而永存世间。
知不可乎骤得，托遗响于悲风。”
[
骤:多。
遗响:馀音，指箫声。
悲风:秋风。
]
知道这些终究不能实现，只得将憾恨化为箫音，托寄在悲凉的秋风中罢了。”

苏子曰:“客亦知夫水与月乎？
我问道:“你可也知道这水与月？
逝者如斯，而未尝往也；盈虚者如彼，而卒莫消长也。
[
逝者如斯:流逝的像这江水。语出《论语・子罕》:“子在川上曰:‘逝者如斯夫，不舍昼夜。’” 逝，往；斯，指水。
赢虚者如彼:指月亮的圆缺。
卒:最终。
消长:增减。
]
时间流逝就像这水，其实并没有真正逝去；时圆时缺的就像这月，终究没有增减。
盖将自其变者而观之，则天地曾不能以一瞬；
[
曾不能:固定词组，连…… 都不够。曾，连…… 都。
一瞬:一眨眼的工夫。
]
可见，从事物易变的一面看来，那么天地间万事万物时刻在变动，连一眨眼的工夫都不停止；
自其不变者而观之，则物与我皆无尽也，而又何羡乎！
而从事物不变的一面看来，万物同我们来说都是永恒的，又有什么可羡慕的呢？
且夫天地之间，物各有主，苟非吾之所有，虽一毫而莫取。
何况天地之间，万物各有主宰者，若不是自己应该拥有的，即使一分一毫也不能求取。
惟江上之清风，与山间之明月，耳得之而为声，目遇之而成色，取之无禁，用之不竭。
只有江上的清风，以及山间的明月，听到便成了声音，进入眼帘便绘出形色，取得这些不会有人禁止，感受这些也不会有竭尽的忧虑。
是造物者之无尽藏也，而吾与子之所共适。”
[
是:这。
造物者:天地自然。
无尽藏:无穷无尽的宝藏。
]
这是大自然恩赐的没有穷尽的宝藏，我和你可以共同享受。”

客喜而笑，洗盏更酌。
客人高兴地笑了，洗净酒杯重新斟酒。
肴核既尽，杯盘狼籍。
[
肴核:菜肴、果品。
]
菜肴果品都已喫完，杯子盘子杂乱一片。
相与枕藉乎舟中，不知东方之既白。
[
枕藉:相互靠着。
]
大家互相枕着垫着睡在船上，不知不觉东方已经露出白色的曙光。
end
```



